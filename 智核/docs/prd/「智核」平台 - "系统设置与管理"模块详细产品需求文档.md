## **「智核」平台 - "系统设置与管理"模块详细产品需求文档**

**文档编号**: ZH-PRD-M7
**模块名称**: 系统设置与管理
**产品定位**: 智核平台的控制中心，提供个性化体验配置和企业级管理能力。
**核心目标**: 让每位用户可自定义工作偏好获得最佳体验，让管理员可高效管理团队成员、权限、资源，并通过数据洞察驱动平台优化。

---

### **一、模块全景与核心价值**

#### **1.1 要解决的根本问题**

企业协作平台在设置和管理层面面临三大挑战：

1. **体验千人一面**：所有用户使用相同界面和交互方式，无法适配不同角色、工作习惯和偏好，降低使用体验。
2. **管理效率低下**：成员管理、权限分配、资源监控依赖IT部门手动操作，响应慢、易出错，管理成本高。
3. **缺乏数据洞察**：不了解平台使用情况、用户行为、资源消耗，无法数据驱动地优化配置和资源分配。

系统设置与管理模块通过**个性化配置**、**自助式管理**、**数据驱动决策**三大能力，让智核既好用又好管。

#### **1.2 核心设计理念**

1. **用户主权 (User Autonomy)**：用户对自己的体验有完全控制权，无需依赖管理员调整个人偏好。
2. **自助式管理 (Self-Service Management)**：团队Leader和管理员可自主完成大部分管理任务，减少对IT的依赖。
3. **最小权限原则 (Least Privilege)**：默认授予最小必要权限，按需申请和审批额外权限。
4. **透明可审计 (Transparent & Auditable)**：所有管理操作、权限变更完整记录，支持合规审计。

#### **1.3 核心用户角色**

| 角色 | 核心使用场景 | 关键价值获得 |
| :--- | :--- | :--- |
| **普通员工** | 配置个人偏好（界面、通知、快捷键等）；管理个人数据和隐私；申请权限或资源。 | 个性化体验；自主控制隐私；透明了解自己的权限和数据。 |
| **团队Leader** | 管理团队成员；分配团队空间权限；查看团队使用数据；配置团队工具和资源。 | 自主管理团队，无需IT介入；数据驱动了解团队协作状况；快速响应成员需求。 |
| **知识管理员** | 管理知识库权限；配置审阅流程；监控知识质量；处理知识相关问题。 | 集中管理知识资产；灵活配置流程和权限；实时掌握知识库健康度。 |
| **系统管理员** | 管理全局权限；配置系统集成；监控系统性能和安全；管理许可证和配额。 | 全局视图掌握平台状态；高效管理大规模用户；保障系统安全和合规。 |
| **安全与合规** | 审计用户操作日志；管理敏感数据访问；配置安全策略；生成合规报告。 | 完整审计轨迹满足合规要求；实时监控异常行为；快速响应安全事件。 |

---

### **二、详细功能需求**

#### **M7.1 个人设置中心**

**目标**：赋予每位用户完全的个性化配置能力，打造符合个人习惯的最佳工作体验。

| 功能组件 | 详细需求描述 |
| :--- | :--- |
| **1. 账户与个人资料** | • **基础信息管理**：<br>  - 头像、昵称、职位、部门、联系方式（电话、邮箱）。<br>  - 个人简介（200字，支持Markdown）。<br>  - 专业领域标签（多选，如"财务分析"、"Python开发"），用于专家发现。<br>• **密码与安全**：<br>  - 修改密码（需验证旧密码）。<br>  - 双因素认证（2FA）配置（支持短信/认证器App）。<br>  - 活跃会话管理：查看所有登录设备，可远程登出异常设备。<br>• **个人隐私设置**：<br>  - 个人资料可见性（全公司可见 / 仅同部门 / 仅自己）。<br>  - 工作状态展示（在线/忙碌/离开/隐身）。<br>  - 是否在专家发现中展示（可选择不出现在团队专家推荐中）。 |
| **2. 界面与交互偏好** | • **主题与外观**：<br>  - 主题模式：浅色 / 深色 / 自动跟随系统。<br>  - 主题色调：提供6-8种配色方案（蓝色商务/绿色清新/紫色科技等）。<br>  - 字体大小：小 / 中 / 大 / 特大（适配视力需求）。<br>  - 信息密度：紧凑 / 标准 / 宽松（控制界面元素间距）。<br>• **默认视图偏好**：<br>  - 知识库默认视图：文档树 / 知识图谱 / 主题广场。<br>  - 主工作台默认布局：对话优先 / 任务面板优先 / 自定义。<br>• **快捷键自定义**：<br>  - 查看和自定义常用操作快捷键（如全局搜索、快速捕获等）。<br>  - 提供快捷键速查卡片（可打印）。<br>• **语言与地区**：<br>  - 界面语言：简体中文 / 英文 / 其他（支持的语言列表）。<br>  - 时区设置（影响时间显示和提醒）。<br>  - 日期格式（YYYY-MM-DD / MM/DD/YYYY等）。 |
| **3. 通知与提醒配置** | • **通知渠道**：<br>  - 站内通知（平台内消息中心）：默认开启。<br>  - 邮件通知：可配置接收频率（实时 / 每日摘要 / 关闭）。<br>  - 移动推送：可配置工作时间段和紧急程度。<br>  - 第三方集成（企业微信/钉钉/Slack）：选择是否同步通知。<br>• **通知类型细粒度控制**：<br>  - **内容相关**：我创建的文档被评论 / 我的文档被审阅 / 提到我的讨论（可分别开关）。<br>  - **协作相关**：被分配任务 / 任务截止提醒 / 会议邀请。<br>  - **系统相关**：系统更新 / 维护通知 / 安全警告（强制接收）。<br>  - **推荐相关**：知识推荐 / 智能体推荐 / 专家推荐（可关闭）。<br>• **免打扰模式**：<br>  - 配置免打扰时间段（如"每天晚8点-次日早8点"、"周末"）。<br>  - 免打扰期间仅接收紧急通知（可定义哪些属于紧急）。<br>• **通知预览与测试**：<br>  - 配置后可发送测试通知，查看实际效果。 |
| **4. AI助手个性化** | • **交互风格偏好**：<br>  - AI回答长度：简洁（3-5句话）/ 标准 / 详细。<br>  - 专业程度：通俗易懂 / 标准 / 专业术语。<br>  - 回答结构：纯文本 / 结构化（列表、表格）/ 混合。<br>• **学习与记忆**：<br>  - 查看AI对我的学习记录（常用术语、偏好主题、工作习惯）。<br>  - 选择性清除学习数据或重置AI记忆。<br>• **智能推荐控制**：<br>  - 调整推荐激进度：保守（仅推荐高相关） / 标准 / 探索（推荐新领域）。<br>  - 屏蔽特定主题或关键词（不希望接收相关推荐）。 |
| **5. 数据与隐私** | • **个人数据导出**：<br>  - 一键导出我的所有数据（文档、评论、对话记录等），格式：JSON / ZIP。<br>• **数据使用透明**：<br>  - 查看我的数据如何被使用（用于AI训练 / 推荐系统 / 分析报告）。<br>  - 可选择退出非必要数据收集。<br>• **账户删除**：<br>  - 申请删除账户，说明原因后提交审核（管理员处理知识交接后删除）。 |

---

#### **M7.2 团队管理中心（Team Leader）**

**目标**：让团队Leader可自主高效地管理团队成员、权限和资源，无需依赖系统管理员。

| 功能组件 | 详细需求描述 |
| :--- | :--- |
| **1. 团队成员管理** | • **成员列表**：<br>  - 展示团队所有成员（头像、姓名、职位、角色、加入时间、最后活跃时间）。<br>  - 支持搜索、筛选（按角色/状态/活跃度）。<br>• **添加成员**：<br>  - 从公司员工列表中选择添加（需员工确认接受邀请）。<br>  - 批量导入（CSV上传）。<br>• **成员角色管理**：<br>  - 为成员分配团队角色：<br>    &nbsp;&nbsp;• **成员 (Member)**：基础访问权限。<br>    &nbsp;&nbsp;• **编辑者 (Editor)**：可编辑团队文档和配置。<br>    &nbsp;&nbsp;• **管理员 (Admin)**：可管理成员和权限。<br>  - 支持自定义角色（高级功能）：自定义角色名称和权限组合。<br>• **成员移除**：<br>  - 移除成员（需确认，成员立即失去团队空间访问权限）。<br>  - 移除前提示知识交接（该成员创建的文档处理方式：保留/转交/归档）。 |
| **2. 团队空间权限管理** | • **空间级权限**：<br>  - 配置团队空间的默认权限：<br>    &nbsp;&nbsp;• 所有成员可查看 / 仅特定角色可查看。<br>    &nbsp;&nbsp;• 所有成员可编辑 / 仅编辑者可编辑。<br>  - 配置外部访问：允许/禁止非团队成员访问（可生成访问链接）。<br>• **文档级权限**：<br>  - 为特定文档或文件夹设置独立权限（覆盖空间默认权限）。<br>  - 权限粒度：查看 / 评论 / 编辑 / 管理（删除、设权限）。<br>  - 支持授权给个人、角色或其他团队。<br>• **权限审批流程**：<br>  - 成员申请访问受限资源时，Leader收到审批请求。<br>  - 可批准、拒绝或转交审批。<br>  - 批准时可设置临时权限（如"授予7天访问权，到期自动回收"）。 |
| **3. 团队工具与资源配置** | • **智能体订阅管理**：<br>  - 为团队统一订阅智能体，所有成员自动获得使用权。<br>  - 查看团队已订阅智能体列表及使用情况。<br>  - 取消订阅或更换智能体。<br>• **配额与资源分配**：<br>  - 查看团队的资源配额（存储空间、AI调用次数等）。<br>  - 配置资源使用策略（如"单个文档最大100MB"）。<br>  - 申请增加配额（向系统管理员提交）。<br>• **集成工具配置**：<br>  - 配置团队使用的第三方工具集成（如Jira、GitLab、CRM）。<br>  - 授权和管理API密钥。 |
| **4. 团队数据看板** | • **活跃度与参与度**：<br>  - 团队成员活跃度趋势（日活、周活）。<br>  - 成员贡献排行（创建文档数、评论数、审阅参与）。<br>  - 不活跃成员识别（30天未登录成员列表）。<br>• **知识生产统计**：<br>  - 团队知识资产总量（文档数、知识卡片数）。<br>  - 本月新增知识量与趋势。<br>  - 高价值知识识别（高阅读量、高评分文档）。<br>• **协作健康度**：<br>  - 团队协作网络图（谁与谁协作最多）。<br>  - 平均审阅周期、待审文档积压情况。<br>  - 孤岛成员识别（参与协作少的成员）。<br>• **资源使用情况**：<br>  - 存储空间使用率（总量/已用/Top占用者）。<br>  - AI智能体使用量统计（按智能体/按成员）。<br>• **导出与报告**：<br>  - 支持导出团队数据报告（PDF/Excel），用于汇报或存档。 |

---

#### **M7.3 系统管理后台（System Admin）**

**目标**：为系统管理员提供全局管理能力，确保平台安全、稳定、高效运行，并支持大规模用户和资源管理。

| 功能组件 | 详细需求描述 |
| :--- | :--- |
| **1. 用户与组织管理** | • **全局用户管理**：<br>  - 用户列表（所有平台用户），支持搜索、筛选（按部门/状态/角色）。<br>  - 用户详情：查看用户基本信息、所属团队、权限、活跃度、资源使用情况。<br>  - 用户操作：<br>    &nbsp;&nbsp;• 重置密码（发送重置邮件）。<br>    &nbsp;&nbsp;• 锁定账户（禁止登录）/ 解锁账户。<br>    &nbsp;&nbsp;• 强制登出（踢出当前会话）。<br>    &nbsp;&nbsp;• 删除账户（需确认，自动转交其资源）。<br>• **组织架构管理**：<br>  - 维护部门/团队树形结构（增删改）。<br>  - 为部门设置负责人和管理员。<br>  - 批量导入组织架构（Excel/CSV）。<br>• **批量操作**：<br>  - 批量导入用户（CSV上传，自动发送激活邮件）。<br>  - 批量修改用户属性（如批量调整部门、批量授权）。<br>  - 批量停用离职员工账户。 |
| **2. 全局权限与角色管理** | • **系统角色定义**：<br>  - 预置角色：超级管理员 / 系统管理员 / 知识管理员 / 安全审计员 / 普通用户。<br>  - 自定义角色：<br>    &nbsp;&nbsp;• 创建自定义角色，定义角色名称和描述。<br>    &nbsp;&nbsp;• 为角色分配权限（从权限列表中勾选）。<br>• **权限列表**（基于RBAC模型）：<br>  - **用户管理**：查看用户 / 创建用户 / 编辑用户 / 删除用户 / 重置密码 / 锁定账户。<br>  - **内容管理**：查看所有内容 / 编辑所有内容 / 删除内容 / 移动内容 / 归档内容。<br>  - **系统配置**：修改系统设置 / 管理集成 / 管理许可证 / 查看日志 / 导出数据。<br>  - **安全管理**：查看审计日志 / 配置安全策略 / 管理API密钥。<br>• **角色分配**：<br>  - 为用户分配一个或多个角色（权限叠加）。<br>  - 查看用户的完整权限清单（来自哪个角色）。<br>• **权限审计**：<br>  - 查看所有敏感权限的分配情况（如"删除内容"权限持有者）。<br>  - 定期审查权限合理性（AI提示异常权限，如"离职员工仍有管理员权限"）。 |
| **3. 系统配置中心** | • **全局参数配置**：<br>  - **安全策略**：<br>    &nbsp;&nbsp;• 密码策略（最小长度、复杂度要求、过期时间）。<br>    &nbsp;&nbsp;• 会话超时时间（闲置多久自动登出）。<br>    &nbsp;&nbsp;• 登录失败锁定策略（5次失败锁定30分钟）。<br>    &nbsp;&nbsp;• 强制2FA（可按角色或全局强制）。<br>  - **内容策略**：<br>    &nbsp;&nbsp;• 单文档最大大小限制。<br>    &nbsp;&nbsp;• 允许/禁止上传的文件类型。<br>    &nbsp;&nbsp;• 文档保留策略（删除文档在回收站保留天数）。<br>  - **AI使用策略**：<br>    &nbsp;&nbsp;• 默认AI模型选择（如成本优先/性能优先）。<br>    &nbsp;&nbsp;• 单用户每日AI调用次数上限（防滥用）。<br>    &nbsp;&nbsp;• 敏感内容AI处理限制（如财务数据不发送到云端模型）。<br>• **集成管理**：<br>  - **SSO单点登录配置**：<br>    &nbsp;&nbsp;• 支持SAML 2.0、OAuth 2.0、LDAP。<br>    &nbsp;&nbsp;• 配置IdP信息（如企业Azure AD、Okta）。<br>    &nbsp;&nbsp;• 测试连接与用户同步。<br>  - **第三方工具集成**：<br>    &nbsp;&nbsp;• 配置企业微信/钉钉/Slack通知推送。<br>    &nbsp;&nbsp;• 配置Jira、GitLab等业务系统对接。<br>    &nbsp;&nbsp;• 管理Webhook和API回调地址。<br>  - **「灵枢」平台集成配置**：<br>    &nbsp;&nbsp;• 配置「灵枢」API端点和认证信息。<br>    &nbsp;&nbsp;• 测试连接状态和服务可用性。<br>• **许可证与订阅管理**：<br>  - 查看当前许可证信息（版本、用户数上限、到期时间）。<br>  - 更新许可证密钥。<br>  - 查看用户席位使用情况（已用/总量，预测用尽时间）。 |
| **4. 系统监控与运维** | • **系统健康监控**：<br>  - **性能指标**：<br>    &nbsp;&nbsp;• CPU使用率、内存使用率、磁盘IO。<br>    &nbsp;&nbsp;• API响应时间（P50/P95/P99）。<br>    &nbsp;&nbsp;• 并发用户数、请求QPS。<br>  - **服务状态**：<br>    &nbsp;&nbsp;• 各微服务运行状态（健康/异常）。<br>    &nbsp;&nbsp;• 「灵枢」平台连接状态。<br>    &nbsp;&nbsp;• 数据库连接池、缓存命中率。<br>  - **告警配置**：<br>    &nbsp;&nbsp;• 设置性能告警阈值（如"CPU使用率>80%持续5分钟"）。<br>    &nbsp;&nbsp;• 配置告警接收人和通知方式（邮件/短信/Webhook）。<br>• **使用统计分析**：<br>  - **用户行为分析**：<br>    &nbsp;&nbsp;• 日活/月活趋势、新增用户、流失用户。<br>    &nbsp;&nbsp;• 用户留存率（次日/7日/30日留存）。<br>    &nbsp;&nbsp;• 功能使用热力图（哪些功能使用最多）。<br>  - **内容统计**：<br>    &nbsp;&nbsp;• 知识库总文档数、增长趋势。<br>    &nbsp;&nbsp;• 存储空间使用趋势、Top占用团队/用户。<br>  - **AI使用统计**：<br>    &nbsp;&nbsp;• AI调用次数（按功能/按用户/按团队）。<br>    &nbsp;&nbsp;• Token消耗量与成本估算。<br>    &nbsp;&nbsp;• 智能体使用排行。<br>• **日志管理**：<br>  - **应用日志**：查看应用运行日志（错误/警告/信息），支持关键词搜索。<br>  - **操作日志**：所有用户操作记录（谁/何时/做了什么），支持按用户/操作类型/时间筛选。<br>  - **审计日志**：敏感操作专用日志（权限变更、配置修改、数据导出），不可删除，仅可查看和导出。<br>  - **日志导出**：批量导出日志用于合规审计或事故分析。 |
| **5. 数据管理与备份** | • **数据库管理**：<br>  - 查看数据库大小、表数量、索引状态。<br>  - 手动触发数据库优化（索引重建、碎片整理）。<br>• **备份管理**：<br>  - 配置自动备份策略（每日/每周，保留周期）。<br>  - 查看备份历史（备份时间、大小、状态）。<br>  - 手动触发备份。<br>  - 测试备份恢复（沙箱环境）。<br>• **数据归档**：<br>  - 配置归档策略（如"超过2年未访问的文档自动归档到冷存储"）。<br>  - 查看归档数据，支持按需恢复。 |

---

#### **M7.4 安全与合规中心**

**目标**：保障平台和数据安全，满足企业合规要求，提供完整审计能力。

| 功能组件 | 详细需求描述 |
| :--- | :--- |
| **1. 安全审计与监控** | • **审计日志查询**：<br>  - 强大的审计日志查询界面：<br>    &nbsp;&nbsp;• 按用户、操作类型、时间范围、IP地址、资源类型筛选。<br>    &nbsp;&nbsp;• 支持复杂条件组合（如"查看财务部成员在晚上10点后的文档下载操作"）。<br>  - 审计日志字段：<br>    &nbsp;&nbsp;• 时间戳、用户ID、用户姓名、操作类型、操作对象、IP地址、设备信息、操作结果（成功/失败）。<br>• **异常行为检测**：<br>  - AI自动检测异常行为模式：<br>    &nbsp;&nbsp;• 批量下载敏感文档。<br>    &nbsp;&nbsp;• 非工作时间异常登录。<br>    &nbsp;&nbsp;• 短时间内大量权限变更。<br>    &nbsp;&nbsp;• 从陌生地理位置登录。<br>  - 异常行为告警，推送给安全管理员。<br>• **敏感数据访问追踪**：<br>  - 标记敏感文档/数据（如含"机密"标签的文档）。<br>  - 完整记录所有对敏感数据的访问（查看/下载/编辑/分享）。<br>  - 生成敏感数据访问报告（谁访问了什么/何时/做了什么）。 |
| **2. 数据隐私管理** | • **个人数据清单**：<br>  - 自动发现和分类平台中的个人数据（姓名、邮箱、手机等）。<br>  - 生成个人数据处理清单（符合GDPR/PIPL要求）。<br>• **数据主体请求处理**：<br>  - 处理用户的数据请求：<br>    &nbsp;&nbsp;• **访问请求**：用户查看平台存储的所有其个人数据。<br>    &nbsp;&nbsp;• **导出请求**：用户导出其个人数据（可机读格式）。<br>    &nbsp;&nbsp;• **删除请求**：用户要求删除其个人数据（需合规评估）。<br>  - 请求工单化管理，记录处理过程和结果。<br>• **数据保留策略**：<br>  - 配置不同类型数据的保留期限（如"操作日志保留1年"、"审计日志保留7年"）。<br>  - 自动清理过期数据（可配置软删除或硬删除）。 |
| **3. 安全策略配置** | • **IP白名单/黑名单**：<br>  - 配置允许访问平台的IP段（企业内网、VPN等）。<br>  - 配置禁止访问的IP（识别到的攻击源）。<br>• **内容安全策略**：<br>  - 敏感词过滤：配置敏感词库，自动检测和告警。<br>  - 文件病毒扫描：上传文件自动病毒扫描，拦截恶意文件。<br>• **API安全**：<br>  - API密钥管理：查看所有API密钥、创建者、权限、使用情况。<br>  - 速率限制配置：防止API滥用（如"单IP每分钟最多100次请求"）。<br>  - 可疑API调用告警（异常频率、异常来源）。 |
| **4. 合规报告生成** | • **预置合规报告模板**：<br>  - **等保合规报告**：满足等保2.0要求的证据材料（访问控制、审计、备份等）。<br>  - **ISO 27001报告**：信息安全管理体系审计所需数据。<br>  - **GDPR合规报告**：数据处理活动记录、数据主体请求处理记录。<br>• **自定义报告**：<br>  - 选择数据源（用户活动、权限变更、数据访问等）。<br>  - 选择时间范围和筛选条件。<br>  - 生成报告（PDF/Excel），支持定期自动生成和发送。 |

---

### **三、非功能需求**

#### **3.1 性能要求**
- 个人设置页面加载时间 < 1秒。
- 管理后台用户列表（1万用户）加载时间 < 2秒，支持虚拟滚动。
- 审计日志查询响应时间 < 3秒（100万条日志内）。
- 系统监控仪表盘实时刷新延迟 < 5秒。

#### **3.2 安全要求**
- 所有敏感操作（权限变更、配置修改）需要二次确认或输入密码。
- 超级管理员操作需强制2FA认证。
- 审计日志采用WORM（Write Once Read Many）存储，防篡改。
- 敏感配置（API密钥、密码）加密存储。

#### **3.3 易用性要求**
- 普通用户完成个人偏好配置 < 3分钟。
- 团队Leader首次管理团队，通过引导向导5分钟内完成基础配置。
- 系统管理后台提供操作帮助文档入口和智能提示。

#### **3.4 可扩展性**
- 支持10万+用户规模的管理。
- 支持1000+团队空间的管理。
- 支持自定义字段扩展（如自定义用户属性）。

---

### **四、实现优先级与迭代计划**

#### **P0（MVP核心）**
- 个人基础设置（账户、界面、通知）
- 团队成员管理（增删改查、角色分配）
- 基础权限管理（RBAC角色系统）
- 系统监控仪表盘（核心性能指标）

#### **P1（第一次迭代）**
- 个人AI助手个性化配置
- 团队数据看板（活跃度、知识统计）
- 全局用户管理与批量操作
- 审计日志查询与基础告警

#### **P2（第二次迭代）**
- 自定义角色与细粒度权限
- 异常行为AI检测
- 数据备份与恢复管理
- SSO单点登录集成

#### **P3（长期优化）**
- 高级数据分析与预测
- 完整合规报告自动生成
- 数据归档与冷热分层
- 智能运维建议（AI驱动）

---

### **五、成功指标**

#### **个性化体验指标**
- 用户完成个人设置配置率 > 60%
- 用户对个性化体验满意度 > 4.3/5
- 通知打开率提升30%（精准通知减少骚扰）

#### **管理效率指标**
- 团队Leader自助管理率 > 80%（无需IT介入）
- 用户新增/权限变更响应时间 < 10分钟（从申请到生效）
- 管理员日常运维时间减少50%

#### **安全合规指标**
- 安全事件（异常访问、数据泄露）检出率 > 95%
- 审计日志完整性 100%（无丢失、无篡改）
- 合规报告生成时间 < 5分钟（从需求到报告）

#### **系统稳定性指标**
- 系统可用性 > 99.9%
- 监控告警准确率 > 90%（无误报）
- 性能问题平均修复时间 < 2小时

---

**文档变更记录**
| 版本 | 日期 | 变更说明 | 作者 |
| :--- | :--- | :--- | :--- |
| V1.0 | 2026-01-09 | 初始版本创建 | 产品团队 |
